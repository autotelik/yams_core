<%= form_with model: [@track], url: yams_core.tracks_path, method: :post, local: true do |f| %>


  <div class="row">
    <div class="col-8 offset-2">

      <div class="card card-outline-secondary">

        <%= bootstrap_card_header( t(".card-header") ) %>

        <div class="card-body">

          <%= render 'yams_core/shared/errors', model: @track %>

          <div class="form-group">
            <%= f.label t('.title') %>
            <%= f.text_field :title, :autofocus => true, class: 'form-control' %>
          </div>

          <div class="form-group">
            <%= f.label t('.description') %>
            <%= f.text_field :description, :autofocus => true, class: 'form-control' %>
          </div>

          <%= render partial: 'yams_core/shared/edit_tag_list', locals: { form: f, model: @track } %>

          <div class="form-group">
            <% if @track.audio.try(:filename) %>
              <p>Replace : <%= @track.audio.filename %></p>
            <% end %>
            <%= custom_file_field(f, :audio, t('.choose_audio_file'), options: { multiple: true, direct_upload: true }, additional: t('.accept_audio_file')) %>
          </div>

          <%= render partial: 'yams_core/shared/choose_cover', locals: { form: f, model: @track } %>

          <%= render partial: 'permissions', locals: { form: f } %>

          <%= bootstrap_submit(form: f, text: t('.submit')) %>

        </div>

      </div>
    </div>
  </div>

<% end %>
